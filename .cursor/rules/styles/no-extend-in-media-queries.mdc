---
id: no-extend-in-media-queries
name: No usar @extend en media queries
description: Prevenir errores de compilaci√≥n SCSS evitando el uso de @extend dentro de media queries.
globs:
  - "**/*.scss"
  - "**/*.sass"
type: comment
alwaysApply: true
---

# No usar @extend en media queries

**NUNCA** uses `@extend` dentro de media queries en SCSS. Esto causa errores de compilaci√≥n y fallos en el build.

## ‚ùå **Prohibido:**

### **@extend dentro de media queries:**
```scss
// ‚ùå MAL: Esto causar√° error de compilaci√≥n
.component {
  &--mobile {
    font-size: 14px;
    padding: 0.5rem;
  }
}

@media (max-width: 768px) {
  .component {
    @extend .component--mobile; // ‚ùå Error: "You may not @extend selectors across media queries"
  }
}
```

### **@extend con selectores complejos en media queries:**
```scss
// ‚ùå MAL: Tambi√©n causar√° errores
@media (max-width: 768px) {
  .card {
    @extend %mobile-card; // ‚ùå Error de compilaci√≥n
  }
  
  .button {
    @extend .button--small; // ‚ùå Error de compilaci√≥n
  }
}
```

## ‚úÖ **Soluciones permitidas:**

### **1. Mixins en lugar de @extend:**
```scss
// ‚úÖ BIEN: Usar mixins que funcionan en media queries
@mixin mobile-styles {
  font-size: 14px;
  padding: 0.5rem;
  line-height: 1.4;
}

.component {
  font-size: 16px;
  padding: 1rem;
  
  @media (max-width: 768px) {
    @include mobile-styles; // ‚úÖ Los mixins funcionan perfectamente
  }
}
```

### **2. Aplicar estilos directamente:**
```scss
// ‚úÖ BIEN: Aplicar estilos directamente en media queries
.component {
  font-size: 16px;
  padding: 1rem;
  
  &__title {
    font-size: 24px;
    margin-bottom: 1rem;
  }
  
  @media (max-width: 768px) {
    font-size: 14px;      // ‚úÖ Aplicar directamente
    padding: 0.5rem;      // ‚úÖ Aplicar directamente
    
    &__title {
      font-size: 20px;    // ‚úÖ Anidamiento permitido
      margin-bottom: 0.5rem;
    }
  }
}
```

### **3. Usar placeholders fuera de media queries:**
```scss
// ‚úÖ BIEN: Placeholders compartidos fuera de media queries
%card-base {
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 1rem;
}

.card {
  @extend %card-base; // ‚úÖ @extend fuera de media query
  
  @media (max-width: 768px) {
    padding: 0.5rem;   // ‚úÖ Solo propiedades espec√≠ficas
    border-radius: 4px; // ‚úÖ Sin @extend
  }
}
```

### **4. BEM con responsive directo:**
```scss
// ‚úÖ BIEN: Estructura BEM con responsive integrado
.form {
  max-width: 600px;
  margin: 0 auto;
  padding: 2rem;
  
  &__actions {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
  }
  
  // ‚úÖ Responsive integrado sin @extend
  @media (max-width: 768px) {
    max-width: 100%;
    padding: 1rem;
    
    &__actions {
      flex-direction: column;
      gap: 0.5rem;
    }
  }
}
```

## üîß **C√≥mo migrar c√≥digo existente:**

### **Paso 1: Identificar @extend en media queries**
```scss
// ‚ùå C√≥digo problem√°tico a migrar:
@media (max-width: 768px) {
  .component {
    @extend .component--mobile; // ‚Üê Identificar esto
  }
}
```

### **Paso 2: Convertir a mixin o estilos directos**
```scss
// ‚úÖ Opci√≥n A: Convertir a mixin
@mixin component-mobile {
  font-size: 14px;
  padding: 0.5rem;
}

@media (max-width: 768px) {
  .component {
    @include component-mobile; // ‚úÖ Usar mixin
  }
}

// ‚úÖ Opci√≥n B: Estilos directos
@media (max-width: 768px) {
  .component {
    font-size: 14px;  // ‚úÖ Copiar estilos directamente
    padding: 0.5rem;  // ‚úÖ Sin @extend
  }
}
```

## ‚ö†Ô∏è **Error t√≠pico de compilaci√≥n:**

```
SassError: You may not @extend selectors across media queries.
   ‚ï∑
55 ‚îÇ     @extend .dynamic-form--mobile;
   ‚îÇ     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   ‚ïµ
```

## üí° **Mejores pr√°cticas:**

### **1. Usar mixins para reutilizaci√≥n:**
```scss
// ‚úÖ BIEN: Mixins para estilos reutilizables
@mixin button-mobile {
  padding: 0.5rem 1rem;
  font-size: 14px;
  border-radius: 4px;
}

.btn-primary {
  @media (max-width: 768px) {
    @include button-mobile;
  }
}

.btn-secondary {
  @media (max-width: 768px) {
    @include button-mobile;
  }
}
```

### **2. Responsive-first con mobile-first:**
```scss
// ‚úÖ BIEN: Mobile-first sin @extend
.component {
  // Estilos mobile por defecto
  font-size: 14px;
  padding: 0.5rem;
  
  // Desktop con min-width
  @media (min-width: 769px) {
    font-size: 16px;
    padding: 1rem;
  }
}
```

### **3. Variables CSS para valores reutilizables:**
```scss
// ‚úÖ BIEN: Variables CSS para consistency
.component {
  --mobile-padding: 0.5rem;
  --desktop-padding: 1rem;
  
  padding: var(--mobile-padding);
  
  @media (min-width: 769px) {
    padding: var(--desktop-padding);
  }
}
```

## üéØ **Resumen:**

1. **NUNCA** uses `@extend` dentro de `@media` queries
2. **USA** `@mixin` para estilos reutilizables en responsive
3. **APLICA** estilos directamente en media queries cuando sea simple
4. **MANT√âN** `@extend` solo en el nivel root, fuera de media queries
5. **PREFIERE** mobile-first approach para evitar complicaciones

**Recuerda**: Los mixins son tu mejor amigo para responsive design en SCSS.
