# ğŸš¨ ERRORES COMUNES DE TYPESCRIPT Y COMPILACIÃ“N

**REGLA PREVENTIVA**: Evitar errores recurrentes de TypeScript que rompen la compilaciÃ³n y causan problemas de desarrollo.

## ğŸ”¥ **ERRORES MÃS FRECUENTES Y SOLUCIONES:**

### **âŒ Error #1: Imports de bibliotecas incorrectas**

#### **ğŸ”´ Problema comÃºn:**
```typescript
// âŒ MAL: Importar de librerÃ­a incorrecta
import { Validators } from 'tech-block-lib';        // âŒ NO existe
import { FormBuilder } from 'tech-block-lib';       // âŒ NO existe
import { Observable } from 'tech-block-lib';        // âŒ NO existe
```

#### **âœ… SoluciÃ³n correcta:**
```typescript
// âœ… BIEN: Imports desde las librerÃ­as correctas
import { Validators, FormBuilder, FormGroup } from '@angular/forms';
import { Observable } from 'rxjs';
import { ILibTbDynamicFormConfigType, ILibTbButton } from 'tech-block-lib';
```

#### **ğŸ“‹ GuÃ­a de imports comunes:**
```typescript
// âœ… ANGULAR CORE
import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
import { Router, ActivatedRoute } from '@angular/router';

// âœ… ANGULAR FORMS
import { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';

// âœ… RXJS
import { Observable, Subject, BehaviorSubject } from 'rxjs';
import { map, filter, switchMap, takeUntil } from 'rxjs/operators';

// âœ… TECH-BLOCK-LIB (solo interfaces y tipos especÃ­ficos)
import { 
  ILibTbDynamicFormConfigType, 
  ILibTbButton, 
  ILibTbStepper,
  ILibTbDynamicForm 
} from 'tech-block-lib';
```

### **âŒ Error #2: Imports no utilizados**

#### **ğŸ”´ Problema comÃºn:**
```typescript
// âŒ MAL: Imports declarados pero nunca usados
import { FormGroup } from '@angular/forms';         // âŒ Declarado pero no usado
import { QuotePolicyStep } from './interface';      // âŒ Declarado pero no usado
import { Validators } from '@angular/forms';        // âŒ Declarado pero no usado

@Component({...})
export class MyComponent {
  // Ninguna de las variables importadas se usa aquÃ­
}
```

#### **âœ… SoluciÃ³n correcta:**
```typescript
// âœ… BIEN: Solo importar lo que se usa
import { Component, OnInit } from '@angular/core';
import { ILibTbButton } from 'tech-block-lib';

@Component({...})
export class MyComponent implements OnInit {
  // âœ… USAR las variables importadas
  btnAction: ILibTbButton = {
    label: 'Action',
    libTbClick: () => this.doAction()
  };

  ngOnInit(): void {
    // ImplementaciÃ³n
  }

  doAction(): void {
    // LÃ³gica del botÃ³n
  }
}
```

### **âŒ Error #3: Propiedades en interfaces incorrectas**

#### **ğŸ”´ Problema comÃºn:**
```typescript
// âŒ MAL: Propiedades que no existen en la interfaz
const formConfig: ILibTbDynamicForm = {
  dataQaId: 'form-id',        // âŒ NO existe en ILibTbDynamicForm
  validateOnSubmit: true,     // âœ… Existe
  configContainers: [...],    // âœ… Existe
  config: [...]              // âœ… Existe
};
```

#### **âœ… SoluciÃ³n correcta:**
```typescript
// âœ… BIEN: Solo propiedades vÃ¡lidas de la interfaz
const formConfig: ILibTbDynamicForm = {
  validateOnSubmit: true,     // âœ… Propiedad vÃ¡lida
  class: 'form-class',        // âœ… Propiedad vÃ¡lida
  configContainers: [...],    // âœ… Propiedad vÃ¡lida
  config: [...]              // âœ… Propiedad vÃ¡lida
};

// âœ… dataQaId va en campos individuales, no en el formulario completo
const campo: ILibTbDynamicFormConfigType = {
  tbType: 'input',
  containerId: 'container',
  formId: 'campo',
  custom: {
    name: 'campo',
    dataQaId: 'campo-id',     // âœ… AQUÃ sÃ­ es vÃ¡lido
    label: 'Campo'
  }
};
```

### **âŒ Error #4: Tipos inexistentes o mal escritos**

#### **ğŸ”´ Problema comÃºn:**
```typescript
// âŒ MAL: Tipos mal escritos o inexistentes
import { ILibTbDynamicFormConfig } from 'tech-block-lib';    // âŒ Mal escrito
import { LibTbButtonConfig } from 'tech-block-lib';          // âŒ No existe
import { IFormConfig } from 'tech-block-lib';               // âŒ No existe
```

#### **âœ… SoluciÃ³n correcta:**
```typescript
// âœ… BIEN: Tipos exactos y existentes
import { ILibTbDynamicFormConfigType } from 'tech-block-lib';  // âœ… Correcto
import { ILibTbButton } from 'tech-block-lib';                // âœ… Correcto
import { ILibTbDynamicForm } from 'tech-block-lib';           // âœ… Correcto
```

### **âŒ Error #5: Variables de clase no utilizadas**

#### **ğŸ”´ Problema comÃºn:**
```typescript
export class MyComponent {
  private unusedProperty: string = 'value';    // âŒ Declarada pero nunca usada
  private anotherUnused: number = 0;           // âŒ Declarada pero nunca usada
  
  constructor() {
    // Variables nunca referenciadas
  }
}
```

#### **âœ… SoluciÃ³n correcta:**
```typescript
export class MyComponent {
  // âœ… Solo declarar propiedades que se usan
  currentStep: number = 0;
  
  constructor() {}
  
  // âœ… USAR las propiedades declaradas
  nextStep(): void {
    this.currentStep++; // âœ… currentStep se usa aquÃ­
  }
}
```

## ğŸ”§ **HERRAMIENTAS PARA DETECTAR ERRORES:**

### **âœ… VSCode/IDE Configuration:**
```json
// âœ… settings.json recomendado
{
  "typescript.preferences.importModuleSpecifier": "shortest",
  "typescript.suggest.autoImports": true,
  "typescript.preferences.organizeImports": true,
  "editor.codeActionsOnSave": {
    "source.organizeImports": true,
    "source.removeUnusedImports": true
  }
}
```

### **âœ… Angular CLI Commands:**
```bash
# âœ… Comandos Ãºtiles para detectar errores
ng build --configuration development    # Detecta errores de compilaciÃ³n
ng lint                                # Detecta problemas de linting
npm run build                          # Build completo con errores
```

## ğŸ“‹ **CHECKLIST ANTES DE COMMIT:**

### **ğŸ” VerificaciÃ³n de Imports:**
```typescript
// âœ… VERIFICAR CADA ARCHIVO:
// 1. Â¿Todos los imports estÃ¡n correctos?           â–¡ SÃ­ / â–¡ No
// 2. Â¿Todos los imports se estÃ¡n usando?           â–¡ SÃ­ / â–¡ No
// 3. Â¿Las librerÃ­as de origen son correctas?       â–¡ SÃ­ / â–¡ No
// 4. Â¿No hay tipos mal escritos?                   â–¡ SÃ­ / â–¡ No
```

### **ğŸ” VerificaciÃ³n de Propiedades:**
```typescript
// âœ… VERIFICAR INTERFACES:
// 1. Â¿Todas las propiedades existen en la interfaz? â–¡ SÃ­ / â–¡ No
// 2. Â¿Los tipos coinciden exactamente?              â–¡ SÃ­ / â–¡ No
// 3. Â¿dataQaId estÃ¡ en el lugar correcto?           â–¡ SÃ­ / â–¡ No
```

### **ğŸ” VerificaciÃ³n de Variables:**
```typescript
// âœ… VERIFICAR VARIABLES DE CLASE:
// 1. Â¿Todas las propiedades se usan?                â–¡ SÃ­ / â–¡ No
// 2. Â¿Todos los mÃ©todos se referencian?             â–¡ SÃ­ / â–¡ No
// 3. Â¿No hay cÃ³digo muerto?                         â–¡ SÃ­ / â–¡ No
```

## ğŸ¯ **BUENAS PRÃCTICAS PREVENTIVAS:**

### **âœ… Imports organizados:**
```typescript
// âœ… PATRÃ“N RECOMENDADO de organizaciÃ³n:
// 1. Angular imports
import { Component, OnInit } from '@angular/core';
import { FormBuilder, Validators } from '@angular/forms';
import { Router } from '@angular/router';

// 2. RxJS imports  
import { Observable } from 'rxjs';
import { map, filter } from 'rxjs/operators';

// 3. Third-party libraries
import { ILibTbButton, ILibTbDynamicForm } from 'tech-block-lib';

// 4. Internal imports
import { MyService } from '@core/services/my.service';
import { MyInterface } from './my.interface';
```

### **âœ… Uso inmediato de imports:**
```typescript
// âœ… REGLA: Si importas algo, Ãºsalo inmediatamente
import { Validators } from '@angular/forms';

export const campo: ILibTbDynamicFormConfigType = {
  tbType: 'input',
  containerId: 'container',
  formId: 'campo',
  custom: {
    name: 'campo',
    label: 'Campo'
  },
  formProps: {
    validators: [Validators.required] // âœ… Validators usado inmediatamente
  }
};
```

### **âœ… ValidaciÃ³n antes de push:**
```bash
# âœ… COMANDOS OBLIGATORIOS antes de hacer commit:
ng build --configuration development
ng lint --fix
```

## ğŸš¨ **ERRORES CRÃTICOS QUE ROMPEN COMPILACIÃ“N:**

### **ğŸ”´ Errores que SIEMPRE fallan el build:**
1. **Imports de mÃ³dulos inexistentes**: `'tech-block-lib' has no exported member 'X'`
2. **Propiedades inexistentes**: `Property 'X' does not exist on type 'Y'`
3. **Tipos mal escritos**: `Cannot find name 'X'`
4. **Referencias circular**: `Circular dependency detected`

### **ğŸŸ¡ Warnings que pueden volverse errores:**
1. **Variables no utilizadas**: `'X' is declared but its value is never read`
2. **Imports no utilizados**: `'X' is defined but never used`
3. **Any tipos implÃ­citos**: `Parameter 'X' implicitly has an 'any' type`

## ğŸ’¡ **SOLUCIÃ“N RÃPIDA PARA ERRORES COMUNES:**

### **ğŸ”§ Template de correcciÃ³n:**
```typescript
// âŒ ANTES: Con errores
import { Validators } from 'tech-block-lib';           // âŒ Import incorrecto
import { FormGroup } from '@angular/forms';           // âŒ No usado

export const campo = {                                // âŒ Sin tipo
  // Sin formId/name                                  // âŒ Faltan propiedades crÃ­ticas
};

// âœ… DESPUÃ‰S: Corregido
import { Validators } from '@angular/forms';          // âœ… Import correcto

export const campo: ILibTbDynamicFormConfigType = {  // âœ… Con tipo
  tbType: 'input',
  containerId: 'container',
  formId: 'campo',                                    // âœ… Propiedad crÃ­tica
  custom: {
    name: 'campo',                                    // âœ… Propiedad crÃ­tica
    label: 'Campo'
  },
  formProps: {
    validators: [Validators.required]                 // âœ… Validators usado
  }
};
```

---

**RECORDATORIO**: Estos errores son **100% prevenibles** con verificaciÃ³n adecuada antes de compilar. Siempre ejecutar `ng build` antes de hacer commit.
